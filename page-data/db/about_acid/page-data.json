{"componentChunkName":"component---src-template-post-tsx","path":"/db/about_acid/","result":{"data":{"site":{"siteMetadata":{"comment":{"utterances":"akasai/akasai.github.io"}}},"post":{"id":"f466f48b-9373-58bf-9576-d534993eef36","excerpt":"트랜잭션이란? 여러 작업을 하나로 묶은 작업수행의 논리적 단위입니다. 한 개 이상의 작업으로 구성되며 한 트랜잭션은 모두 실행되거나, 실행되지 않습니다. 트랜잭션의 상태 한 트랜잭션 플로우의 흐름입니다.  Active…","timeToRead":3,"html":"<h2 id=\"트랜잭션이란\" style=\"position:relative;\"><a href=\"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%B4%EB%9E%80\" aria-label=\"트랜잭션이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>트랜잭션이란?</h2>\n<p>여러 작업을 하나로 묶은 작업수행의 <strong>논리적 단위</strong>입니다.</p>\n<p>한 개 이상의 작업으로 구성되며 한 트랜잭션은 모두 실행되거나, 실행되지 않습니다.</p>\n<h3 id=\"트랜잭션의-상태\" style=\"position:relative;\"><a href=\"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EC%83%81%ED%83%9C\" aria-label=\"트랜잭션의 상태 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>트랜잭션의 상태</h3>\n<p>한 트랜잭션 플로우의 흐름입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQY003PwXaDIBBAUf//C3uaokaibQQFhhmYQQg92eWt3vYO/aNaa2sVk2S5jD227dfYg6UGIAjBhchy+QB/z11KReIhc/EBfaCULxZhKaen5fFQ86TGSU2zXtfDx1argxQg3hf99X17GhtJBsplW9dlWTAJZum9Zy7Go0feXVR3Peotcem9X7WdQC5mj2wDYZYBic3hjfWAzCyZBZDL1TKzGiekdLXX4cAYs9vw/uMcZ13bKyYePs3tbW4BmXJxAW5qOj0QF0DuvWMSoKz19qPuzseY5B9OshwsNUyRmwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"transaction flow\"\n        title=\"transaction flow\"\n        src=\"/static/f1a4ec04c92b0531d8e40b5cb4bb8758/01e7c/transaction-flow.png\"\n        srcset=\"/static/f1a4ec04c92b0531d8e40b5cb4bb8758/5a46d/transaction-flow.png 300w,\n/static/f1a4ec04c92b0531d8e40b5cb4bb8758/01e7c/transaction-flow.png 512w\"\n        sizes=\"(max-width: 512px) 100vw, 512px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>\n<p>Active(활성)</p>\n<p>트랜잭션의 연산들이 정상적으로 실행 중인 상태.</p>\n</li>\n<li>\n<p>Partially Committed(부분 완료)</p>\n<p>트랜잭션의 모든 연산들이 정상적으로 완료되었지만, <strong>Commit연산</strong> 직전의 상태.</p>\n</li>\n<li>\n<p>Committed(완료)</p>\n<p>트랜잭션이 성공적으로 완료되어 <strong>Commit연산</strong>이 실행된 상태.</p>\n</li>\n<li>\n<p>Failed(실패)</p>\n<p>트랜잭션이 오류/취소등의 이유로 중단된 상태.</p>\n</li>\n<li>\n<p>Aborted(철회)</p>\n<p>트랜잭션이 비정상적으로 종료되어 <strong>Rollback연산</strong>을 수행한 상태.</p>\n</li>\n</ol>\n<hr>\n<h2 id=\"acid\" style=\"position:relative;\"><a href=\"#acid\" aria-label=\"acid permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ACID</h2>\n<p>트랜잭션이 안전하게 수행된다는 것을 보장하기 위한 4가지 성질입니다.</p>\n<h3 id=\"atomicity-원자성\" style=\"position:relative;\"><a href=\"#atomicity-%EC%9B%90%EC%9E%90%EC%84%B1\" aria-label=\"atomicity 원자성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Atomicity (원자성)</h3>\n<p>모든 작업이 반영되거나, 모두 롤백되는 특성을 의미합니다. (<strong>All or Nothing</strong>)</p>\n<p>트랜잭션 내의 모든 명령은 반드시 완벽히 수행되어야 하며,</p>\n<p>모두가 완벽히 수행되지 않고 어느 하나라도 오류가 발생하면 트랜잭션 전부가 취소되어야 합니다.</p>\n<ol>\n<li>\n<p>Atomicity 보장</p>\n<p>수행중인 트랜잭션에 의해 변경된 내역은 유지하면서 이전 상태는 임시영역에 따로 저장합니다.</p>\n<p>오류가 발생하는 경우 임시영역에 저장되어있는 이전 상태를 롤백하여 원자성을 보장합니다.</p>\n<p><code class=\"language-text\">롤백 세그먼트</code>: 임시로 저장되는 영역.</p>\n<p><code class=\"language-text\">데이터베이스 테이블</code>: 현재 트랜잭션에 의해 새롭게 변경되는 내역.</p>\n</li>\n</ol>\n<h3 id=\"consistency-일관성\" style=\"position:relative;\"><a href=\"#consistency-%EC%9D%BC%EA%B4%80%EC%84%B1\" aria-label=\"consistency 일관성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Consistency (일관성)</h3>\n<p>데이터에 대한 일관됨을 말합니다.</p>\n<p>트랜잭션이 명령을 성공적으로 완료하면 언제나 일관성 있는 데이터베이스 상태로 유지합니다.</p>\n<p>일관된 상태란 예를 들어 정수형 데이터는 트랜잭션이 동작한 이후에도 정수형을 유지하는 것을 의미합니다.</p>\n<h3 id=\"isolation-고립성\" style=\"position:relative;\"><a href=\"#isolation-%EA%B3%A0%EB%A6%BD%EC%84%B1\" aria-label=\"isolation 고립성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Isolation (고립성)</h3>\n<p>둘 이상의 트랜잭션 간 명령의 간섭 정도를 말합니다.</p>\n<p>트랜잭션이 동시에 병행 실행되는 경우 어느 하나의 트랜잭션이 실행 중 다른 트랜잭션의 명령에 끼어들 수 없습니다.</p>\n<p>수행 중인 트랜잭션은 완전히 완료될 때까지 다른 트랜잭션에서 수행 결과를 참조할 수 없습니다.</p>\n<p>아래와 같은 방법을 이용하여 고립성을 보장합니다.</p>\n<ol>\n<li>\n<p>병행처리 (Concurrent Processing)</p>\n<p>각 트랜잭션에 일정 시간을 할당하여 시간을 모두 사용하면 다른 트랜잭션을 수행하는 방법입니다.</p>\n<p><strong>완료 여부</strong>와 상관없이 트랜잭션이 변경되기 때문에 발생할 수 있는 이슈가 있습니다.</p>\n</li>\n<li>\n<p>고립성 보장</p>\n<p>병행처리에서 발생하는 이슈를 해결하기 위해 Lock(락)을 이용하여 해결합니다.</p>\n<p><strong>데드락</strong>이슈가 발생할 가능성이 있습니다.</p>\n<blockquote>\n<p><a href=\"https://akasai.space/db/about_lock\">DB의 Lock/DeadLock</a></p>\n</blockquote>\n</li>\n<li>\n<p>2PL Protocol (2-Phase Locking Protocol)</p>\n<p>데드락을 해결하기 위해 여러 트랜잭션이 공유하고 있는 데이터에 동시에 접근할 수 없도록 하기 위한 목적입니다.</p>\n<p>이름 그대로 2가지 단계의 Locking이 존재하는데 2PL 프로토콜은 상승 단계와 하강 단계와 섞이면 안된다는 것을 의미합니다.</p>\n<p><code class=\"language-text\">Growing Phase(상승단계)</code>: Read_lock , Write_lock</p>\n<p><code class=\"language-text\">Shrinking Phase</code>: Unlock</p>\n<p>즉, Lock과 Unlock이 번갈아 수행되지 않고 <strong>Lock이 수행된 후에 Unlock이 수행</strong>되어야 한다는 것이 이 프로토콜입니다.</p>\n</li>\n</ol>\n<h3 id=\"durability-영속성\" style=\"position:relative;\"><a href=\"#durability-%EC%98%81%EC%86%8D%EC%84%B1\" aria-label=\"durability 영속성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Durability (영속성)</h3>\n<p>한번 반영(커밋)된 내용은 영구적으로 적용되는 것을 말합니다.</p>\n<hr>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<ul>\n<li><a href=\"https://victorydntmd.tistory.com/129\">[DB이론] 트랜잭션(transaction)과 ACID 특성을 보장하는 방법</a></li>\n</ul>","fields":{"slug":"/db/about_acid/"},"frontmatter":{"title":"트랜잭션과 ACID","series_num":0,"date":"Jan 25. 2021","tags":["Database","Transaction","ACID","데이터베이스","트랜잭션"]},"headings":[{"value":"트랜잭션이란?","depth":2,"id":"트랜잭션이란"},{"value":"트랜잭션의 상태","depth":3,"id":"트랜잭션의-상태"},{"value":"ACID","depth":2,"id":"acid"},{"value":"Atomicity (원자성)","depth":3,"id":"atomicity-원자성"},{"value":"Consistency (일관성)","depth":3,"id":"consistency-일관성"},{"value":"Isolation (고립성)","depth":3,"id":"isolation-고립성"},{"value":"Durability (영속성)","depth":3,"id":"durability-영속성"},{"value":"Reference","depth":2,"id":"reference"}]},"related":{"nodes":[{"fields":{"slug":"/db/about_index/"},"frontmatter":{"title":"DB의 Index","date":"Mar 04. 2021"}},{"fields":{"slug":"/db/about_isolation/"},"frontmatter":{"title":"Isolation Level이란?","date":"Jan 28. 2021"}},{"fields":{"slug":"/db/about_lock/"},"frontmatter":{"title":"DB의 Lock/DeadLock","date":"Sep 28. 2020"}}]}},"pageContext":{"id":"f466f48b-9373-58bf-9576-d534993eef36","slug":"/db/about_acid/","series_name":"","category":"DB","previous":{"fields":{"slug":"/redis/about_redis_2/"},"frontmatter":{"title":"Redis가 싱글스레드인 이유?"}},"next":{"fields":{"slug":"/db/about_isolation/"},"frontmatter":{"title":"Isolation Level이란?"}}}},"staticQueryHashes":["1069093791","1381152472","1821008744","278901532","3528274121"]}